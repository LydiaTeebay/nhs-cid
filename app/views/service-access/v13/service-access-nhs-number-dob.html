{% extends '_layouts/_grids/_grid-2-1-hotjar.html' %}
{% block page_title %}Access {{ serviceName }} - What's your date of birth?{% endblock %}

{% set signedin = 'true' %}
{% set params = "?service=" + service + "&serviceName=" + serviceName + "&lsId=" + lsId + "&lsAccess=" + lsAccess + "&lsStudy=" + lsStudy + "&devMode=" + devMode + "&returnUrl=" + returnUrl + "&emailAddress=" + emailAddress + "&mobileNum=" + mobileNum + "&hidehead=" + hidehead %}

{% block content %}

<div class="first-item">

  <form>
    <div class="form-group">

      <p><a href="javascript:history.go(-1)" class="link-back">Back</a></p>

      <h1><legend>What's your date of birth?</legend></h1>

      <div class="form-group">
        <fieldset>
          <span class="form-label__hint" style="margin-top: 10px;">Example: 31 3 1980</span>
          <div class="form-group -date" style="margin-top: 10px;">
            <div class="form-date-field">
              <label for="dob-day" style="margin-bottom: 5px; display: block;">Day</label>
              <input type="number" id="dob-day" name="dob-day" pattern="[0-9]*" value="" class="day" maxlength="2" min="1" max="31">
            </div>
            <div class="form-date-field">
              <label for="dob-month" style="margin-bottom: 5px; display: block;">Month</label>
              <input type="number" id="dob-month" name="dob-month" pattern="[0-9]*" value="" class="month" maxlength="2" min="1" max="12">
            </div>
            <div class="form-date-field">
              <label for="dob-year" style="margin-bottom: 5px; display: block;">Year</label>
              <input type="number" id="dob-year" name="dob-year" pattern="[0-9]*" value="" class="year" maxlength="4" min="1900" max="2018">
            </div>
          </div>
        </fieldset>
      </div>

    </div>


    <div class="form-group">
      <a class="button" href="service-access-photo-id{{ params }}" id="button--save">Continue</a>
    </div>
  </form>

</div>

<script type="text/javascript">
    submitSpinner()
    function submitSpinner() {
        var selects = document.getElementById('button--save')
        selects.addEventListener('click', function (event) {
            event.preventDefault()
            if (selects.getAttribute('disabled') === 'disabled') {
                console.log('already clicked')
            } else {
                event.preventDefault()
                console.log(selects.getAttribute('disabled'))
                buttonClicked(selects)
            }
        })
    }
    function buttonClicked(target) {
        target.setAttribute('disabled', 'disabled')
        target.className += ' button--save'
        setTimeout(function () {
            window.location.href = target.getAttribute('href')
        }, 2500)
    }
</script>

{% endblock %}