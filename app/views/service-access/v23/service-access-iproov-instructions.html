{% extends '_layouts/_grids/_grid-2-1-hotjar.html' %}
{% block page_title %}Access {{ serviceName }} - Scan instructions{% endblock %}

{% set signedin = 'true' %}
{% set params = "?service=" + service + "&serviceName=" + serviceName + "&emailAddress=" + emailAddress + "&mobileNum=" + mobileNum + "&idType=" + idType + "&formerror=" + formerror + "&hidehead=" + hidehead + "&challenge=" + challenge + "&devMode=" + devMode + "&returnUrl=" + returnUrl + "&genericButton=" + genericButton + "&uplift=" + uplift %}

{% block content %}

<div class="first-item">

  <section class="" id="scan-id-1">

      {% if hideBack !== 'true' %}
      <p><a href="service-access-iproov-start{{ params }}" class="link-back"><i style="font-weight: normal;font-style: normal;">Back to:</i> Scan your face</a></p>
      {% endif %}

      <form>
          <h1>Scan instructions</h1>

          <p>Follow these steps:</p>

          <ol class="list--ordered">
            <li>Before you start make sure we can access your device’s camera.
            <li>Turn up the screen brightness on your device.</li>
{#             <li>Make sure your face is directly in front of your screen, not at an angle.</li>
                <img src="/images/iproov-instructions.png" alt="Hold your device straight ahead of you face" width="600" style="display:block;margin-left:auto;margin-right:auto;">
            </li> #}
            <li>Select <em>start scan</em> and follow the instructions.</li>
          </ol>

      {% if iproovFailReason === 'permissions' %}
        <div class="callout callout--error" style="background-color: transparent">
        {# <svg class="nhsuk-icon nhsuk-icon__warning" viewBox="0 0 512 512" fill="none" aria-hidden="true" style="fill: #d5281b;padding: 4px" width="10%" height="10%">
  <g>
    <g>
      <path d="M501.609,384.603L320.543,51.265c-13.666-23.006-37.802-36.746-64.562-36.746c-26.76,0-50.896,13.74-64.562,36.746
        c-0.103,0.176-0.19,0.352-0.293,0.528L10.662,384.076c-13.959,23.491-14.223,51.702-0.719,75.457
        c13.535,23.769,37.919,37.948,65.266,37.948h360.544c27.347,0,52.733-14.179,66.267-37.948
        C515.524,435.779,515.261,407.566,501.609,384.603z M225.951,167.148c0-16.586,13.445-30.03,30.03-30.03
        c16.586,0,30.03,13.445,30.03,30.03v120.121c0,16.584-13.445,30.03-30.03,30.03s-30.03-13.447-30.03-30.03V167.148z
        M255.981,437.421c-24.839,0-45.046-20.206-45.046-45.046c0-24.839,20.206-45.045,45.046-45.045
        c24.839,0,45.045,20.206,45.045,45.045C301.027,417.214,280.821,437.421,255.981,437.421z"></path>
    </g>
  </g>
</svg>
        <h5 style="padding-left: 48px">We could not access your camera</h5> #}

                <h5>We could not access your camera</h5>
        <p style="font-size:14px;line-height:20px;">To match you to your photo I.D. we need to scan your face using your device’s camera.</p> 
        <p style="font-size:14px;line-height:20px;">Visit the <a href="https://help.login.nhs.uk/provewhoyouare/withid#how-to-give-your-web-browser-permission-to-access-the-camera-and-microphone">NHS login help centre</a> for information on how to grant access.</p>        
        <p style="font-size:14px;line-height:20px;">Once you have granted access to your camera, reload this page.</p>
        </div>
        </div>
      {% else %}
          <div class="form-group" id="enable-camera" style="">
            <a href="service-access-iproov{{ params }}" id="allow-camera-button" class="button camera-button">Start scan</a>
          </div>
      {% endif %}

          <details class="" role="group" >
              <summary data-analytics="summary" role="button" aria-controls="details-content-1" aria-expanded="true">
                  <span class="details__summary">What you can do if the scan keeps failing</span>
              </summary>
              <div class="callout callout--friendly" id="details-content-1" aria-hidden="false">
                  <div class="reading-width">

                      <p>If the face scan does not work, you can send us a short video instead.</p>
                      <p><a href="service-access-iproov-bail{{ params }}">Try with a video instead</a></p>

                  </div>
              </div>
          </details>


      </form>

      {% if devMode === "true" %}
      <details class="dev-mode" role="group" >
        <summary data-analytics="summary" role="button" aria-controls="details-content-0" aria-expanded="true">
          <span class="details__summary">Continue with testing scenario</span>
        </summary>
        <div class="callout callout--info callout--friendly" id="details-content-0" aria-hidden="false">
          <div class="reading-width">

            <p>Pass</p>
            <ol>
              <li><a href="service-access-iproov{{ params }}&iproovFailReason=undefined">iProov test passes</a></li>
            </ol>
            <p>Fail - try again</p>
            <ol>
                <li><a href="service-access-iproov{{ params }}&iproovFailReason=ambiguous_outcome">Sorry, ambiguous outcome</a></li>
                <li><a href="service-access-iproov{{ params }}&iproovFailReason=lighting_flash_reflection_too_low">Ambient light too strong or screen brightness too low</a></li>
                <li><a href="service-access-iproov{{ params }}&iproovFailReason=lighting_backlit">Strong light source detected behind you</a></li>
                <li><a href="service-access-iproov{{ params }}&iproovFailReason=lighting_too_dark">Lighting too dark</a></li>
                <li><a href="service-access-iproov{{ params }}&iproovFailReason=lighting_face_too_bright">Lighting on face too bright</a></li>
                <li><a href="service-access-iproov{{ params }}&iproovFailReason=motion_too_much_movement">too much movement</a></li>
                <li><a href="service-access-iproov{{ params }}&iproovFailReason=motion_too_much_mouth_movement">too much mouth movement</a></li>
                <li><a href="service-access-iproov{{ params }}&iproovFailReason=network_problem">Network problems</a></li>
                <li><a href="service-access-iproov{{ params }}&iproovFailReason=user_timeout">User timeout</a></li>
                <li><a href="service-access-iproov{{ params }}&iproovFailReason=client_api">Client API</a></li>
                <li><a href="service-access-iproov{{ params }}&iproovFailReason=client_camera">Client camera</a></li>
                <li><a href="service-access-iproov{{ params }}&iproovFailReason=client_stream">Client stream</a></li>
                <li><a href="service-access-iproov{{ params }}&iproovFailReason=client_error">Client error</a></li>
                <li><a href="service-access-iproov{{ params }}&iproovFailReason=server_abort">Server abort</a></li>
                <li><a href="service-access-iproov{{ params }}&iproovFailReason=user_abort">User aborted</a></li>
                <li><a href="service-access-iproov{{ params }}&iproovFailReason=permissions">User permissions denied</a></li>
            </ol>

              <p>Fail - come back later</p>
              <ol>
                  <li><a href="service-access-iproov{{ params }}&iproovFailReason=client_config">Client config</a></li>
              </ol>

              <p>Fail - try new photo</p>
              <ol>
                  <li><a href="service-access-iproov{{ params }}&iproovFailReason=undefined&iProovThirdAttempt=true">Third attempt fails on 1st enrolment</a></li>
              </ol>

              <p>Fail - try video instead</p>
              <ol>
                  <li><a href="service-access-iproov{{ params }}&iproovFailReason=undefined&iProovThirdAttempt=true&pyiSecondAttempt=true">Third attempt fails on 2nd enrolment</a></li>
                  <li><a href="service-access-iproov{{ params }}&iproovFailReason=two_faces">AWS 2 faces</a></li> 
              </ol>

          </div>
        </div>
      </details>
      {% endif %}

  </section>

</div>

<script type="text/javascript">


</script>

{% endblock %}